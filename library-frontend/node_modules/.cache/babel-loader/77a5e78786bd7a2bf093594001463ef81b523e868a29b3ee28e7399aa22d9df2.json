{"ast":null,"code":"import React,{useState}from'react';// Define the props for the BookList component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookList=_ref=>{let{books,handleEdit,handleDelete}=_ref;const[sortField,setSortField]=useState('title');// Default sort field\nconst[sortOrder,setSortOrder]=useState('asc');// Default sort order\n// Function to handle sorting\nconst sortedBooks=[...books].sort((a,b)=>{if(a[sortField]===undefined||b[sortField]===undefined){return 0;// Treat undefined values as equal\n}// Ensure both aField and bField are defined before proceeding\nconst aField=a[sortField]!==undefined&&a[sortField]!==null?a[sortField].toString().toLowerCase():'';const bField=b[sortField]!==undefined&&b[sortField]!==null?b[sortField].toString().toLowerCase():'';if(sortOrder==='asc'){return aField<bField?-1:aField>bField?1:0;}else{return aField>bField?-1:aField<bField?1:0;}});// Function to toggle sorting order\nconst toggleSort=field=>{setSortField(field);setSortOrder(sortField===field&&sortOrder==='asc'?'desc':'asc');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Book List\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{onClick:()=>toggleSort('title'),style:{cursor:'pointer'},children:[\"Title \",sortField==='title'?sortOrder==='asc'?'ðŸ”¼':'ðŸ”½':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>toggleSort('author'),style:{cursor:'pointer'},children:[\"Author \",sortField==='author'?sortOrder==='asc'?'ðŸ”¼':'ðŸ”½':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>toggleSort('genre'),style:{cursor:'pointer'},children:[\"Genre \",sortField==='genre'?sortOrder==='asc'?'ðŸ”¼':'ðŸ”½':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>toggleSort('isAvailable'),style:{cursor:'pointer'},children:[\"Genre \",sortField==='isAvailable'?sortOrder==='asc'?'ðŸ”¼':'ðŸ”½':'']}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedBooks.map(b=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:b.title}),/*#__PURE__*/_jsx(\"td\",{children:b.author}),/*#__PURE__*/_jsx(\"td\",{children:b.genre}),/*#__PURE__*/_jsx(\"td\",{children:b.isAvailable}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:b.imageUrl,alt:\"error loading\",style:{width:'50px'}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(b),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(b.id),children:\"Delete\"})]})]},b.id))})]})]});};export default BookList;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","BookList","_ref","books","handleEdit","handleDelete","sortField","setSortField","sortOrder","setSortOrder","sortedBooks","sort","a","b","undefined","aField","toString","toLowerCase","bField","toggleSort","field","children","style","width","borderCollapse","onClick","cursor","map","title","author","genre","isAvailable","src","imageUrl","alt","id"],"sources":["/Users/richarddrum/TroyWebTechnicalAssessment/Library/library-frontend/src/components/BookList.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Book } from '../types/Book';\n\n// Define the props for the BookList component\ninterface BookListProps {\n    books: Book[];\n    handleEdit: (book: Book) => void;\n    handleDelete: (id: number) => void;\n}\n\nconst BookList: React.FC<BookListProps> = ({ books, handleEdit, handleDelete }) => {\n    const [sortField, setSortField] = useState<keyof Book>('title'); // Default sort field\n    const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('asc'); // Default sort order\n\n     // Function to handle sorting\n    const sortedBooks = [...books].sort((a, b) => {\n        if (a[sortField] === undefined || b[sortField] === undefined) {\n            return 0; // Treat undefined values as equal\n        }\n\n        // Ensure both aField and bField are defined before proceeding\n        const aField = a[sortField] !== undefined && a[sortField] !== null ? a[sortField].toString().toLowerCase() : '';\n        const bField = b[sortField] !== undefined && b[sortField] !== null ? b[sortField].toString().toLowerCase() : '';\n\n        if (sortOrder === 'asc') {\n            return aField < bField ? -1 : aField > bField ? 1 : 0;\n        } else {\n            return aField > bField ? -1 : aField < bField ? 1 : 0;\n        }\n    });\n\n    // Function to toggle sorting order\n    const toggleSort = (field: keyof Book) => {\n        setSortField(field);\n        setSortOrder(sortField === field && sortOrder === 'asc' ? 'desc' : 'asc');\n    };\n\n    return (\n        <div>\n            <h3>Book List</h3>\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n                <thead>\n                    <tr>\n                        <th onClick={() => toggleSort('title')} style={{ cursor: 'pointer' }}>\n                            Title {sortField === 'title' ? (sortOrder === 'asc' ? 'ðŸ”¼' : 'ðŸ”½') : ''}\n                        </th>\n                        <th onClick={() => toggleSort('author')} style={{ cursor: 'pointer' }}>\n                            Author {sortField === 'author' ? (sortOrder === 'asc' ? 'ðŸ”¼' : 'ðŸ”½') : ''}\n                        </th>\n                        <th onClick={() => toggleSort('genre')} style={{ cursor: 'pointer' }}>\n                            Genre {sortField === 'genre' ? (sortOrder === 'asc' ? 'ðŸ”¼' : 'ðŸ”½') : ''}\n                        </th>\n                        <th onClick={() => toggleSort('isAvailable')} style={{ cursor: 'pointer' }}>\n                            Genre {sortField === 'isAvailable' ? (sortOrder === 'asc' ? 'ðŸ”¼' : 'ðŸ”½') : ''}\n                        </th>\n                        <th>Image</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {sortedBooks.map((b) => (\n                        <tr key={b.id}>\n                            <td>{b.title}</td>\n                            <td>{b.author}</td>\n                            <td>{b.genre}</td>\n                            <td>{b.isAvailable}</td>\n                            <td>\n                                <img src={b.imageUrl} alt='error loading' style={{ width: '50px' }} />\n                            </td>\n                            <td>\n                                <button onClick={() => handleEdit(b)}>Edit</button>\n                                <button onClick={() => handleDelete(b.id)}>Delete</button>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default BookList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}