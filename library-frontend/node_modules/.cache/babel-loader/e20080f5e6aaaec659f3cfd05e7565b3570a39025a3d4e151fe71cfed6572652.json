{"ast":null,"code":"// src/ManageBooks.tsx\nimport React,{useEffect,useState}from'react';import axiosConfig from'../utilities/axiosConfig';import BookList from'./BookList';import{getAuthHeader}from'../utilities/ApiUtils';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManageBooks=()=>{const[books,setBooks]=useState([]);const navigate=useNavigate();useEffect(()=>{fetchBooks();},[]);const fetchBooks=async()=>{try{const config=getAuthHeader();const response=await axiosConfig.get('/api/books',config);// Fetch books from your API\nsetBooks(response.data);}catch(error){console.error('Error fetching books:',error);// Optionally set an error state here if needed\n}};const handleDelete=async id=>{console.log('Delete book with ID:',id);try{const config=getAuthHeader();await axiosConfig.delete(`/api/books/${id}`,config);// Delete book by ID\nfetchBooks();}catch(error){console.error('Error deleting book:',error);}};const handleEdit=book=>{// Navigate to the edit page with the book ID\nnavigate(`/edit-book/${book.id}`);};const handleAddBook=()=>{navigate('/add-book');// Navigate to the add book page\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-book-button\",onClick:handleAddBook,children:\"Add Book\"}),/*#__PURE__*/_jsx(BookList,{books:books,handleEdit:handleEdit,handleDelete:handleDelete})]});};export default ManageBooks;","map":{"version":3,"names":["React","useEffect","useState","axiosConfig","BookList","getAuthHeader","useNavigate","jsx","_jsx","jsxs","_jsxs","ManageBooks","books","setBooks","navigate","fetchBooks","config","response","get","data","error","console","handleDelete","id","log","delete","handleEdit","book","handleAddBook","children","className","onClick"],"sources":["/Users/richarddrum/TroyWebTechnicalAssessment/Library/library-frontend/src/components/ManageBooks.tsx"],"sourcesContent":["// src/ManageBooks.tsx\nimport React, { useEffect, useState } from 'react';\nimport axiosConfig from '../utilities/axiosConfig';\nimport BookList from './BookList';\nimport { Book } from '../types/Book';\nimport { getAuthHeader } from '../utilities/ApiUtils';\nimport { useNavigate } from 'react-router-dom';\n\nconst ManageBooks: React.FC = () => {\n    const [books, setBooks] = useState<Book[]>([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        fetchBooks();\n    }, []);\n\n    const fetchBooks = async () => {\n        try {\n            const config = getAuthHeader(); \n            const response = await axiosConfig.get('/api/books', config); // Fetch books from your API\n            setBooks(response.data);\n        } catch (error) {\n            console.error('Error fetching books:', error);\n            // Optionally set an error state here if needed\n        }\n    };\n\n    const handleDelete = async (id: number) => {\n        console.log('Delete book with ID:', id);\n        try {\n            const config = getAuthHeader(); \n            await axiosConfig.delete(`/api/books/${id}`, config); // Delete book by ID\n            fetchBooks();\n        } catch (error) {\n            console.error('Error deleting book:', error);\n        }\n    };\n\n    const handleEdit = (book: Book) => {\n        // Navigate to the edit page with the book ID\n        navigate(`/edit-book/${book.id}`); \n    };\n    \n    const handleAddBook = () => {\n        navigate('/add-book'); // Navigate to the add book page\n    };\n\n    return (\n        <div>\n            <button className=\"add-book-button\" onClick={handleAddBook}>Add Book</button>\n            <BookList books={books} handleEdit={handleEdit} handleDelete={handleDelete} />\n        </div>\n    );\n};\n\nexport default ManageBooks;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAEjC,OAASC,aAAa,KAAQ,uBAAuB,CACrD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,WAAqB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAS,EAAE,CAAC,CAC9C,KAAM,CAAAY,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9BL,SAAS,CAAC,IAAM,CACZc,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACA,KAAM,CAAAC,MAAM,CAAGX,aAAa,CAAC,CAAC,CAC9B,KAAM,CAAAY,QAAQ,CAAG,KAAM,CAAAd,WAAW,CAACe,GAAG,CAAC,YAAY,CAAEF,MAAM,CAAC,CAAE;AAC9DH,QAAQ,CAACI,QAAQ,CAACE,IAAI,CAAC,CAC3B,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C;AACJ,CACJ,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,KAAO,CAAAC,EAAU,EAAK,CACvCF,OAAO,CAACG,GAAG,CAAC,sBAAsB,CAAED,EAAE,CAAC,CACvC,GAAI,CACA,KAAM,CAAAP,MAAM,CAAGX,aAAa,CAAC,CAAC,CAC9B,KAAM,CAAAF,WAAW,CAACsB,MAAM,CAAC,cAAcF,EAAE,EAAE,CAAEP,MAAM,CAAC,CAAE;AACtDD,UAAU,CAAC,CAAC,CAChB,CAAE,MAAOK,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAChD,CACJ,CAAC,CAED,KAAM,CAAAM,UAAU,CAAIC,IAAU,EAAK,CAC/B;AACAb,QAAQ,CAAC,cAAca,IAAI,CAACJ,EAAE,EAAE,CAAC,CACrC,CAAC,CAED,KAAM,CAAAK,aAAa,CAAGA,CAAA,GAAM,CACxBd,QAAQ,CAAC,WAAW,CAAC,CAAE;AAC3B,CAAC,CAED,mBACIJ,KAAA,QAAAmB,QAAA,eACIrB,IAAA,WAAQsB,SAAS,CAAC,iBAAiB,CAACC,OAAO,CAAEH,aAAc,CAAAC,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC7ErB,IAAA,CAACJ,QAAQ,EAACQ,KAAK,CAAEA,KAAM,CAACc,UAAU,CAAEA,UAAW,CAACJ,YAAY,CAAEA,YAAa,CAAE,CAAC,EAC7E,CAAC,CAEd,CAAC,CAED,cAAe,CAAAX,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}