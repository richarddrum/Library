{"ast":null,"code":"import React,{useState}from'react';// Define the props for the BookList component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookList=_ref=>{let{books,handleEdit,handleDelete}=_ref;const[sortField,setSortField]=useState('title');// Default sort field\nconst[sortOrder,setSortOrder]=useState('asc');// Default sort order\n// Function to handle sorting\nconst sortedBooks=[...books].sort((a,b)=>{var _a$sortField,_b$sortField;const aField=a[sortField];const bField=b[sortField];// Handle sorting for boolean fields\nif(sortField==='isAvailable'){return sortOrder==='asc'?aField===bField?0:aField?-1:1:aField===bField?0:aField?1:-1;}// Use type assertions to tell TypeScript that a[sortField] and b[sortField] will always be strings\nconst aFieldStr=((_a$sortField=a[sortField])===null||_a$sortField===void 0?void 0:_a$sortField.toLowerCase())||'';const bFieldStr=((_b$sortField=b[sortField])===null||_b$sortField===void 0?void 0:_b$sortField.toLowerCase())||'';if(sortOrder==='asc'){return aFieldStr<bFieldStr?-1:aFieldStr>bFieldStr?1:0;}else{return aFieldStr>bFieldStr?-1:aFieldStr<bFieldStr?1:0;}});// Function to toggle sorting order\nconst toggleSort=field=>{setSortField(field);setSortOrder(sortField===field&&sortOrder==='asc'?'desc':'asc');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Book List\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Cover\"}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>toggleSort('title'),style:{cursor:'pointer'},children:[\"Title \",sortField==='title'?sortOrder==='asc'?'ðŸ”¼':'ðŸ”½':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>toggleSort('author'),style:{cursor:'pointer'},children:[\"Author \",sortField==='author'?sortOrder==='asc'?'ðŸ”¼':'ðŸ”½':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>toggleSort('category'),style:{cursor:'pointer'},children:[\"Category \",sortField==='category'?sortOrder==='asc'?'ðŸ”¼':'ðŸ”½':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>toggleSort('isAvailable'),style:{cursor:'pointer'},children:[\"Is Available \",sortField==='isAvailable'?sortOrder==='asc'?'ðŸ”¼':'ðŸ”½':'']}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedBooks.map(b=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"img\",{src:b.coverImage,alt:\"\",style:{width:'100px'}}),\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:b.title}),/*#__PURE__*/_jsx(\"td\",{children:b.author}),/*#__PURE__*/_jsx(\"td\",{children:b.category}),/*#__PURE__*/_jsx(\"td\",{children:b.isAvailable?'Yes':'No'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(b),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(b.id),children:\"Delete\"})]})]},b.id))})]})]});};export default BookList;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","BookList","_ref","books","handleEdit","handleDelete","sortField","setSortField","sortOrder","setSortOrder","sortedBooks","sort","a","b","_a$sortField","_b$sortField","aField","bField","aFieldStr","toLowerCase","bFieldStr","toggleSort","field","children","style","width","borderCollapse","onClick","cursor","map","src","coverImage","alt","title","author","category","isAvailable","id"],"sources":["/Users/richarddrum/TroyWebTechnicalAssessment/Library/library-frontend/src/components/BookList.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Book } from '../types/Book';\n\n// Define the props for the BookList component\ninterface BookListProps {\n    books: Book[];\n    handleEdit: (book: Book) => void;\n    handleDelete: (id: number) => void;\n}\n\nconst BookList: React.FC<BookListProps> = ({ books, handleEdit, handleDelete }) => {\n    const [sortField, setSortField] = useState<keyof Book>('title'); // Default sort field\n    const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('asc'); // Default sort order\n\n     // Function to handle sorting\n    const sortedBooks = [...books].sort((a, b) => {\n        const aField = a[sortField];\n        const bField = b[sortField];\n        // Handle sorting for boolean fields\n        if (sortField === 'isAvailable') {\n            return sortOrder === 'asc' ? (aField === bField ? 0 : aField ? -1 : 1) : (aField === bField ? 0 : aField ? 1 : -1);\n        }\n        // Use type assertions to tell TypeScript that a[sortField] and b[sortField] will always be strings\n        const aFieldStr = (a[sortField] as unknown as string | undefined)?.toLowerCase() || '';\n        const bFieldStr = (b[sortField] as unknown as string | undefined)?.toLowerCase() || '';\n        \n\n        if (sortOrder === 'asc') {\n            return aFieldStr < bFieldStr ? -1 : aFieldStr > bFieldStr ? 1 : 0;\n        } else {\n            return aFieldStr > bFieldStr ? -1 : aFieldStr < bFieldStr ? 1 : 0;\n        }\n    });\n\n    // Function to toggle sorting order\n    const toggleSort = (field: keyof Book) => {\n        setSortField(field);\n        setSortOrder(sortField === field && sortOrder === 'asc' ? 'desc' : 'asc');\n    };\n\n    return (\n        <div>\n            <h3>Book List</h3>\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n                <thead>\n                    <tr>\n                        <th>Cover</th>\n                        <th onClick={() => toggleSort('title')} style={{ cursor: 'pointer' }}>\n                            Title {sortField === 'title' ? (sortOrder === 'asc' ? 'ðŸ”¼' : 'ðŸ”½') : ''}\n                        </th>\n                        <th onClick={() => toggleSort('author')} style={{ cursor: 'pointer' }}>\n                            Author {sortField === 'author' ? (sortOrder === 'asc' ? 'ðŸ”¼' : 'ðŸ”½') : ''}\n                        </th>\n                        <th onClick={() => toggleSort('category')} style={{ cursor: 'pointer' }}>\n                            Category {sortField === 'category' ? (sortOrder === 'asc' ? 'ðŸ”¼' : 'ðŸ”½') : ''}\n                        </th>\n                        <th onClick={() => toggleSort('isAvailable')} style={{ cursor: 'pointer' }}>\n                            Is Available {sortField === 'isAvailable' ? (sortOrder === 'asc' ? 'ðŸ”¼' : 'ðŸ”½') : ''}\n                        </th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {sortedBooks.map((b) => (\n                        <tr key={b.id}>\n                            <td>\n                                <img src={b.coverImage} alt='' style={{ width: '100px' }} /> {/*TODO: FALLBACK IMAGE? img src=b.coverImage || 'fallback-image-url.jpg'*/}\n                            </td>\n                            <td>{b.title}</td>\n                            <td>{b.author}</td>\n                            <td>{b.category}</td>\n                            <td>{b.isAvailable ? 'Yes' : 'No'}</td>\n                            <td>\n                                <button onClick={() => handleEdit(b)}>Edit</button>\n                                <button onClick={() => handleDelete(b.id)}>Delete</button>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default BookList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}