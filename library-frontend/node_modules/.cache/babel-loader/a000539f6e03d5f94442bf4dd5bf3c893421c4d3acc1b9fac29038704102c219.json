{"ast":null,"code":"// src/ManageBooks.tsx\nimport React,{useEffect,useState}from'react';import axiosConfig from'../utilities/axiosConfig';import BookList from'./BookList';import{getAuthHeader}from'../utilities/ApiUtils';import AddBook from'./AddBook';//import { useNavigate } from 'react-router-dom';\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManageBooks=()=>{const[books,setBooks]=useState([]);const[isEditing,setIsEditing]=useState(false);//const navigate = useNavigate();\nuseEffect(()=>{fetchBooks();},[]);const fetchBooks=async()=>{try{const config=getAuthHeader();const response=await axiosConfig.get('/api/books',config);// Fetch books from your API\nsetBooks(response.data);}catch(error){console.error('Error fetching books:',error);// Optionally set an error state here if needed\n}};// const handleEdit = (book: Book) => {\n//     setBook(book);\n//     setIsEditing(true);\n// };\nconst handleDelete=async id=>{console.log('Delete book with ID:',id);try{const config=getAuthHeader();await axiosConfig.delete(`/api/books/${id}`,config);// Delete book by ID\nfetchBooks();}catch(error){console.error('Error deleting book:',error);}};// Placeholder functions for editing and deleting books\nfunction handleEdit(book){// Implement edit functionality\nconsole.log('Edit book:',book);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(AddBook,{})}),/*#__PURE__*/_jsx(BookList,{books:books,handleEdit:handleEdit,handleDelete:handleDelete})]});};export default ManageBooks;","map":{"version":3,"names":["React","useEffect","useState","axiosConfig","BookList","getAuthHeader","AddBook","jsx","_jsx","jsxs","_jsxs","ManageBooks","books","setBooks","isEditing","setIsEditing","fetchBooks","config","response","get","data","error","console","handleDelete","id","log","delete","handleEdit","book","children"],"sources":["/Users/richarddrum/TroyWebTechnicalAssessment/Library/library-frontend/src/components/ManageBooks.tsx"],"sourcesContent":["// src/ManageBooks.tsx\nimport React, { useEffect, useState } from 'react';\nimport axiosConfig from '../utilities/axiosConfig';\nimport BookList from './BookList';\nimport { Book } from '../types/Book';\nimport { getAuthHeader } from '../utilities/ApiUtils';\nimport AddBook from './AddBook';\n//import { useNavigate } from 'react-router-dom';\n\nconst ManageBooks: React.FC = () => {\n    const [books, setBooks] = useState<Book[]>([]);\n    const [isEditing, setIsEditing] = useState(false);\n    //const navigate = useNavigate();\n\n    useEffect(() => {\n        fetchBooks();\n    }, []);\n\n    const fetchBooks = async () => {\n        try {\n            const config = getAuthHeader(); \n            const response = await axiosConfig.get('/api/books', config); // Fetch books from your API\n            setBooks(response.data);\n        } catch (error) {\n            console.error('Error fetching books:', error);\n            // Optionally set an error state here if needed\n        }\n    };\n\n    // const handleEdit = (book: Book) => {\n    //     setBook(book);\n    //     setIsEditing(true);\n    // };\n\n    const handleDelete = async (id: number) => {\n        console.log('Delete book with ID:', id);\n        try {\n            const config = getAuthHeader(); \n            await axiosConfig.delete(`/api/books/${id}`, config); // Delete book by ID\n            fetchBooks();\n        } catch (error) {\n            console.error('Error deleting book:', error);\n        }\n    };\n\n    // Placeholder functions for editing and deleting books\n    function handleEdit(book: Book) {\n        // Implement edit functionality\n        console.log('Edit book:', book);\n    }\n\n    return (\n        <div>\n            <button>\n                <AddBook />\n            </button>\n            <BookList books={books} handleEdit={handleEdit} handleDelete={handleDelete} />\n        </div>\n    );\n};\n\nexport default ManageBooks;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAEjC,OAASC,aAAa,KAAQ,uBAAuB,CACrD,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEA,KAAM,CAAAC,WAAqB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAS,EAAE,CAAC,CAC9C,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACjD;AAEAD,SAAS,CAAC,IAAM,CACZe,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACA,KAAM,CAAAC,MAAM,CAAGZ,aAAa,CAAC,CAAC,CAC9B,KAAM,CAAAa,QAAQ,CAAG,KAAM,CAAAf,WAAW,CAACgB,GAAG,CAAC,YAAY,CAAEF,MAAM,CAAC,CAAE;AAC9DJ,QAAQ,CAACK,QAAQ,CAACE,IAAI,CAAC,CAC3B,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C;AACJ,CACJ,CAAC,CAED;AACA;AACA;AACA;AAEA,KAAM,CAAAE,YAAY,CAAG,KAAO,CAAAC,EAAU,EAAK,CACvCF,OAAO,CAACG,GAAG,CAAC,sBAAsB,CAAED,EAAE,CAAC,CACvC,GAAI,CACA,KAAM,CAAAP,MAAM,CAAGZ,aAAa,CAAC,CAAC,CAC9B,KAAM,CAAAF,WAAW,CAACuB,MAAM,CAAC,cAAcF,EAAE,EAAE,CAAEP,MAAM,CAAC,CAAE;AACtDD,UAAU,CAAC,CAAC,CAChB,CAAE,MAAOK,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAChD,CACJ,CAAC,CAED;AACA,QAAS,CAAAM,UAAUA,CAACC,IAAU,CAAE,CAC5B;AACAN,OAAO,CAACG,GAAG,CAAC,YAAY,CAAEG,IAAI,CAAC,CACnC,CAEA,mBACIlB,KAAA,QAAAmB,QAAA,eACIrB,IAAA,WAAAqB,QAAA,cACIrB,IAAA,CAACF,OAAO,GAAE,CAAC,CACP,CAAC,cACTE,IAAA,CAACJ,QAAQ,EAACQ,KAAK,CAAEA,KAAM,CAACe,UAAU,CAAEA,UAAW,CAACJ,YAAY,CAAEA,YAAa,CAAE,CAAC,EAC7E,CAAC,CAEd,CAAC,CAED,cAAe,CAAAZ,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}