{"ast":null,"code":"import React,{useState}from'react';import axiosConfig from'../utilities/axiosConfig';// Adjust the import based on your axios setup\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Import your Book interface\nconst AddBook=()=>{const[book,setBook]=useState({id:0,// You can set this to 0 since it's not needed for a new book\ntitle:'',author:'',imageUrl:'',description:'',publisher:'',publicationDate:new Date(),category:'',isbn:'',pageCount:0,isAvailable:true,checkedOutDate:undefined,returnDate:undefined});const[error,setError]=useState(null);const[successMessage,setSuccessMessage]=useState(null);const handleChange=e=>{const{name,value}=e.target;setBook({...book,[name]:value});};const handleSubmit=async e=>{e.preventDefault();setError(null);setSuccessMessage(null);try{const token=localStorage.getItem('token');const config={headers:{Authorization:`Bearer ${token}`}};// Sending POST request to the API\nawait axiosConfig.post('/api/books',book,config);setSuccessMessage('Book added successfully!');setBook({id:0,title:'',author:'',imageUrl:'',description:'',publisher:'',publicationDate:new Date(),category:'',isbn:'',pageCount:0,isAvailable:true,checkedOutDate:undefined,returnDate:undefined});}catch(error){setError('Failed to add book. Please try again.');console.error('Error adding book:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Book\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:book.title,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Author:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"author\",value:book.author,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:book.category,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Genre\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Fiction\",children:\"Fiction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Non-Fiction\",children:\"Non-Fiction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Science Fiction\",children:\"Science Fiction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Fantasy\",children:\"Fantasy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mystery\",children:\"Mystery\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Biography\",children:\"Biography\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Romance\",children:\"Romance\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"imageUrl\",value:book.imageUrl,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:book.description,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Publisher:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"publisher\",value:book.publisher,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Publication Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"publicationDate\",value:book.publicationDate.toISOString().split('T')[0],onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"ISBN:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"isbn\",value:book.isbn,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Page Count:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"pageCount\",value:book.pageCount,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Is Available:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isAvailable\",checked:book.isAvailable,onChange:e=>setBook({...book,isAvailable:e.target.checked})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Book\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:successMessage})]});};export default AddBook;","map":{"version":3,"names":["React","useState","axiosConfig","jsx","_jsx","jsxs","_jsxs","AddBook","book","setBook","id","title","author","imageUrl","description","publisher","publicationDate","Date","category","isbn","pageCount","isAvailable","checkedOutDate","undefined","returnDate","error","setError","successMessage","setSuccessMessage","handleChange","e","name","value","target","handleSubmit","preventDefault","token","localStorage","getItem","config","headers","Authorization","post","console","children","onSubmit","type","onChange","required","toISOString","split","checked","style","color"],"sources":["/Users/richarddrum/TroyWebTechnicalAssessment/Library/library-frontend/src/components/AddBook.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axiosConfig from '../utilities/axiosConfig'; // Adjust the import based on your axios setup\nimport { Book } from '../types/Book'; // Import your Book interface\n\nconst AddBook: React.FC = () => {\n    const [book, setBook] = useState<Book>({\n        id: 0, // You can set this to 0 since it's not needed for a new book\n        title: '',\n        author: '',\n        imageUrl: '',\n        description: '',\n        publisher: '',\n        publicationDate: new Date(),\n        category: '',\n        isbn: '',\n        pageCount: 0,\n        isAvailable: true,\n        checkedOutDate: undefined,\n        returnDate: undefined,\n    });\n\n    const [error, setError] = useState<string | null>(null);\n    const [successMessage, setSuccessMessage] = useState<string | null>(null);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n        const { name, value } = e.target;\n        setBook({ ...book, [name]: value });\n    };\n\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        setError(null);\n        setSuccessMessage(null);\n\n        try {\n            const token = localStorage.getItem('token');\n            const config = {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            };\n\n            // Sending POST request to the API\n            await axiosConfig.post('/api/books', book, config);\n            setSuccessMessage('Book added successfully!');\n            setBook({\n                id: 0,\n                title: '',\n                author: '',\n                imageUrl: '',\n                description: '',\n                publisher: '',\n                publicationDate: new Date(),\n                category: '',\n                isbn: '',\n                pageCount: 0,\n                isAvailable: true,\n                checkedOutDate: undefined,\n                returnDate: undefined,\n            });\n        } catch (error) {\n            setError('Failed to add book. Please try again.');\n            console.error('Error adding book:', error);\n        }\n    };\n\n    return (\n        <div>\n            <h2>Add Book</h2>\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <label>Title:</label>\n                    <input type=\"text\" name=\"title\" value={book.title} onChange={handleChange} required />\n                </div>\n                <div>\n                    <label>Author:</label>\n                    <input type=\"text\" name=\"author\" value={book.author} onChange={handleChange} required />\n                </div>\n                <div>\n                    <label>Category:</label>\n                    <select name=\"category\" value={book.category} onChange={handleChange} required>\n                        <option value=\"\">Select Genre</option>\n                        <option value=\"Fiction\">Fiction</option>\n                        <option value=\"Non-Fiction\">Non-Fiction</option>\n                        <option value=\"Science Fiction\">Science Fiction</option>\n                        <option value=\"Fantasy\">Fantasy</option>\n                        <option value=\"Mystery\">Mystery</option>\n                        <option value=\"Biography\">Biography</option>\n                        <option value=\"Romance\">Romance</option>\n                        {/* Add more options as needed */}\n                    </select>\n                </div>\n                <div>\n                    <label>Image URL:</label>\n                    <input type=\"text\" name=\"imageUrl\" value={book.imageUrl} onChange={handleChange} />\n                </div>\n                <div>\n                    <label>Description:</label>\n                    <textarea name=\"description\" value={book.description} onChange={handleChange} />\n                </div>\n                <div>\n                    <label>Publisher:</label>\n                    <input type=\"text\" name=\"publisher\" value={book.publisher} onChange={handleChange} required />\n                </div>\n                <div>\n                    <label>Publication Date:</label>\n                    <input type=\"date\" name=\"publicationDate\" value={book.publicationDate.toISOString().split('T')[0]} onChange={handleChange} required />\n                </div>\n                <div>\n                    <label>ISBN:</label>\n                    <input type=\"text\" name=\"isbn\" value={book.isbn} onChange={handleChange} required />\n                </div>\n                <div>\n                    <label>Page Count:</label>\n                    <input type=\"number\" name=\"pageCount\" value={book.pageCount} onChange={handleChange} required />\n                </div>\n                <div>\n                    <label>Is Available:</label>\n                    <input type=\"checkbox\" name=\"isAvailable\" checked={book.isAvailable} onChange={(e) => setBook({ ...book, isAvailable: e.target.checked })} />\n                </div>\n                <button type=\"submit\">Add Book</button>\n            </form>\n            {error && <p style={{ color: 'red' }}>{error}</p>}\n            {successMessage && <p style={{ color: 'green' }}>{successMessage}</p>}\n        </div>\n    );\n};\n\nexport default AddBook;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}